<!-- 202233207 김도연 -->
<!-- code.ejs -->
<table
  class="table table-bordered border-primary table-hover"
  style="text-align: center"
>
  <thead class="table-primary">
    <tr>
      <th>대분류</th>
      <th>대분류명</th>
      <th>소분류</th>
      <th>소분류명</th>
      <th>시작일</th>
      <th>종료일</th>
      <th colspan="2">메뉴</th>
    </tr>
  </thead>
  <tbody>
    <% if (codes && codes.length > 0) { %> <% codes.forEach(function(code) { %>
    <tr>
      <td><%= code.main_id %></td>
      <td><%= code.main_name %></td>
      <td><%= code.sub_id %></td>
      <td><%= code.sub_name %></td>
      <td><%= code.start %></td>
      <td><%= code.end %></td>
      <td>
        <a
          href="/code/update/<%= code.main_id %>/<%= code.sub_id %>/<%= code.start %>"
          style="text-decoration: none"
          >수정</a
        >
      </td>
      <td>
        <a
          href="/code/delete/<%= code.main_id %>/<%= code.sub_id %>/<%= code.start %>"
          style="text-decoration: none"
          onclick="return confirm('정말로 삭제하시겠습니까?')"
          >삭제</a
        >
      </td>
    </tr>
    <% }); %> <% } else { %>
    <!-- 자료가 없을 때도 빈 행 + 수정/삭제 버튼 출력 -->
    <tr>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>
        <a
          href="#"
          style="text-decoration: none; pointer-events: none; cursor: default"
          >수정</a
        >
      </td>
      <td>
        <a
          href="#"
          style="text-decoration: none; pointer-events: none; cursor: default"
          >삭제</a
        >
      </td>
    </tr>
    <% } %>
  </tbody>
</table>

<% if (!codes || codes.length === 0) { %>
<p>자료가 없으니 코드 추가 버튼으로 코드를 추가해 주십시오.</p>
<% } %>

<a href="/code/create">
  <button class="btn btn-outline-secondary btn-sm" type="button">
    코드 추가
  </button>
</a>
